{"level":"info","message":"Socket.IO server running on port 3001","timestamp":"2025-05-31T15:23:31.721Z"}
{"level":"info","message":"HTTP server running on port 3000","timestamp":"2025-05-31T15:23:31.723Z"}
{"level":"info","message":"Connected to PostgreSQL database","timestamp":"2025-05-31T15:24:06.900Z"}
{"duration":35,"level":"debug","message":"Executed query","rows":0,"text":"SELECT id, username, password_hash, created_at FROM users WHERE username = $1","timestamp":"2025-05-31T15:24:06.920Z"}
{"duration":8,"level":"debug","message":"Executed query","rows":1,"text":"INSERT INTO users (id, username, password_hash) VALUES ($1, $2, $3) RETURNING id, username, created_at","timestamp":"2025-05-31T15:24:06.973Z"}
{"level":"info","message":"Created new user: AlexMak","timestamp":"2025-05-31T15:24:06.973Z"}
{"duration":3,"level":"debug","message":"Executed query","rows":1,"text":"SELECT id, username, created_at FROM users WHERE id = $1","timestamp":"2025-05-31T15:24:07.035Z"}
{"duration":12,"level":"debug","message":"Executed query","rows":0,"text":"SELECT \n        cr.*,\n        json_agg(json_build_object(\n          'id', u.id,\n          'username', u.username,\n          'role', cp.role\n        )) as participants\n       FROM chat_rooms cr\n       JOIN chat_participants cp ON cr.id = cp.chat_room_id\n       JOIN users u ON cp.user_id = u.id\n       WHERE cr.id IN (\n         SELECT chat_room_id \n         FROM chat_participants \n         WHERE user_id = $1\n       )\n       GROUP BY cr.id\n       ORDER BY cr.updated_at DESC","timestamp":"2025-05-31T15:24:07.047Z"}
{"level":"info","message":"Connected to PostgreSQL database","timestamp":"2025-05-31T15:24:07.052Z"}
{"duration":12,"level":"debug","message":"Executed query","rows":1,"text":"SELECT id, username, created_at FROM users WHERE id = $1","timestamp":"2025-05-31T15:24:07.054Z"}
{"level":"info","message":"User connected: 91e5b17a-9d9a-437a-8a68-fc056c987da5","timestamp":"2025-05-31T15:24:07.055Z"}
{"duration":1,"level":"debug","message":"Executed query","rows":1,"text":"SELECT id, username, created_at FROM users WHERE id = $1","timestamp":"2025-05-31T15:24:20.857Z"}
{"duration":4,"level":"debug","message":"Executed query","rows":1,"text":"SELECT id, username, created_at FROM users WHERE username ILIKE $1 LIMIT $2","timestamp":"2025-05-31T15:24:20.861Z"}
{"duration":1,"level":"debug","message":"Executed query","rows":1,"text":"SELECT id, username, created_at FROM users WHERE id = $1","timestamp":"2025-05-31T15:24:20.957Z"}
{"duration":0,"level":"debug","message":"Executed query","rows":1,"text":"SELECT id, username, created_at FROM users WHERE username ILIKE $1 LIMIT $2","timestamp":"2025-05-31T15:24:20.958Z"}
{"duration":1,"level":"debug","message":"Executed query","rows":1,"text":"SELECT id, username, created_at FROM users WHERE id = $1","timestamp":"2025-05-31T15:24:22.511Z"}
{"duration":1,"level":"debug","message":"Executed query","rows":1,"text":"SELECT id, username, created_at FROM users WHERE id = $1","timestamp":"2025-05-31T15:24:24.245Z"}
{"duration":1,"level":"debug","message":"Executed query","rows":1,"text":"SELECT id, username, created_at FROM users WHERE id = $1","timestamp":"2025-05-31T15:24:26.309Z"}
{"duration":1,"level":"debug","message":"Executed query","rows":1,"text":"SELECT id, username, created_at FROM users WHERE id = $1","timestamp":"2025-05-31T15:24:26.614Z"}
{"duration":1,"level":"debug","message":"Executed query","rows":1,"text":"SELECT id, username, created_at FROM users WHERE id = $1","timestamp":"2025-05-31T15:24:26.771Z"}
{"duration":1,"level":"debug","message":"Executed query","rows":1,"text":"SELECT id, username, created_at FROM users WHERE id = $1","timestamp":"2025-05-31T15:24:26.927Z"}
{"duration":1,"level":"debug","message":"Executed query","rows":1,"text":"SELECT id, username, created_at FROM users WHERE id = $1","timestamp":"2025-05-31T15:24:31.549Z"}
{"duration":1,"level":"debug","message":"Executed query","rows":1,"text":"SELECT id, username, created_at FROM users WHERE id = $1","timestamp":"2025-05-31T15:24:33.734Z"}
{"duration":0,"level":"debug","message":"Executed query","rows":1,"text":"SELECT id, username, created_at FROM users WHERE username ILIKE $1 LIMIT $2","timestamp":"2025-05-31T15:24:33.734Z"}
{"duration":0,"level":"debug","message":"Executed query","rows":1,"text":"SELECT id, username, created_at FROM users WHERE id = $1","timestamp":"2025-05-31T15:24:33.888Z"}
{"duration":0,"level":"debug","message":"Executed query","rows":1,"text":"SELECT id, username, created_at FROM users WHERE username ILIKE $1 LIMIT $2","timestamp":"2025-05-31T15:24:33.889Z"}
{"duration":0,"level":"debug","message":"Executed query","rows":1,"text":"SELECT id, username, created_at FROM users WHERE id = $1","timestamp":"2025-05-31T15:24:35.945Z"}
{"duration":0,"level":"debug","message":"Executed query","rows":1,"text":"SELECT id, username, created_at FROM users WHERE id = $1","timestamp":"2025-05-31T15:24:37.728Z"}
{"duration":0,"level":"debug","message":"Executed query","rows":0,"text":"SELECT id, username, created_at FROM users WHERE username ILIKE $1 LIMIT $2","timestamp":"2025-05-31T15:24:37.729Z"}
{"duration":1,"level":"debug","message":"Executed query","rows":1,"text":"SELECT id, username, created_at FROM users WHERE id = $1","timestamp":"2025-05-31T15:24:38.009Z"}
{"duration":1,"level":"debug","message":"Executed query","rows":0,"text":"SELECT id, username, created_at FROM users WHERE username ILIKE $1 LIMIT $2","timestamp":"2025-05-31T15:24:38.010Z"}
{"duration":1,"level":"debug","message":"Executed query","rows":1,"text":"SELECT id, username, created_at FROM users WHERE id = $1","timestamp":"2025-05-31T15:24:38.199Z"}
{"duration":0,"level":"debug","message":"Executed query","rows":0,"text":"SELECT id, username, created_at FROM users WHERE username ILIKE $1 LIMIT $2","timestamp":"2025-05-31T15:24:38.199Z"}
{"duration":1,"level":"debug","message":"Executed query","rows":1,"text":"SELECT id, username, created_at FROM users WHERE id = $1","timestamp":"2025-05-31T15:24:38.557Z"}
{"duration":1,"level":"debug","message":"Executed query","rows":0,"text":"SELECT id, username, created_at FROM users WHERE username ILIKE $1 LIMIT $2","timestamp":"2025-05-31T15:24:38.558Z"}
{"duration":1,"level":"debug","message":"Executed query","rows":1,"text":"SELECT id, username, created_at FROM users WHERE id = $1","timestamp":"2025-05-31T15:24:38.687Z"}
{"duration":1,"level":"debug","message":"Executed query","rows":0,"text":"SELECT id, username, created_at FROM users WHERE username ILIKE $1 LIMIT $2","timestamp":"2025-05-31T15:24:38.688Z"}
{"duration":4,"level":"debug","message":"Executed query","rows":1,"text":"SELECT id, username, created_at FROM users WHERE id = $1","timestamp":"2025-05-31T15:24:44.782Z"}
{"duration":7,"level":"debug","message":"Executed query","rows":0,"text":"SELECT \n        u.id,\n        u.username,\n        c.status,\n        c.created_at as connected_at\n       FROM contacts c\n       JOIN users u ON (c.contact_id = u.id)\n       WHERE c.user_id = $1\n       ORDER BY u.username","timestamp":"2025-05-31T15:24:44.790Z"}
{"level":"info","message":"Connected to PostgreSQL database","timestamp":"2025-05-31T15:24:44.802Z"}
{"duration":2,"level":"debug","message":"Executed query","rows":1,"text":"SELECT id, username, created_at FROM users WHERE id = $1","timestamp":"2025-05-31T15:24:44.803Z"}
{"level":"info","message":"User connected: 91e5b17a-9d9a-437a-8a68-fc056c987da5","timestamp":"2025-05-31T15:24:44.804Z"}
{"duration":25,"level":"debug","message":"Executed query","rows":1,"text":"SELECT id, username, created_at FROM users WHERE id = $1","timestamp":"2025-05-31T15:24:44.806Z"}
{"error":"invalid input syntax for type uuid: \"contacts\"","level":"error","message":"Database query error","stack":"error: invalid input syntax for type uuid: \"contacts\"\n    at /app/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async query (/app/src/utils/db.js:30:17)\n    at async Object.getChatMessages (/app/src/services/messageService.js:56:20)\n    at async /app/src/routes/chatRoutes.js:43:20","text":"SELECT \n        m.*,\n        json_build_object(\n          'id', u.id,\n          'username', u.username\n        ) as sender,\n        COALESCE(\n          json_agg(\n            json_build_object(\n              'user_id', mr.user_id,\n              'reaction', mr.reaction\n            )\n          ) FILTER (WHERE mr.message_id IS NOT NULL),\n          '[]'\n        ) as reactions\n       FROM messages m\n       JOIN users u ON m.sender_id = u.id\n       LEFT JOIN message_reactions mr ON m.id = mr.message_id\n       WHERE m.chat_room_id = $1\n       GROUP BY m.id, u.id\n       ORDER BY m.created_at DESC\n       LIMIT $2 OFFSET $3","timestamp":"2025-05-31T15:24:44.812Z"}
{"code":"22P02","file":"uuid.c","length":140,"level":"error","line":"133","message":"Error getting chat messages: invalid input syntax for type uuid: \"contacts\"","name":"error","routine":"string_to_uuid","severity":"ERROR","stack":"error: invalid input syntax for type uuid: \"contacts\"\n    at /app/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async query (/app/src/utils/db.js:30:17)\n    at async Object.getChatMessages (/app/src/services/messageService.js:56:20)\n    at async /app/src/routes/chatRoutes.js:43:20","timestamp":"2025-05-31T15:24:44.813Z","where":"unnamed portal parameter $1 = '...'"}
{"level":"error","message":"Error: invalid input syntax for type uuid: \"contacts\"","stack":"error: invalid input syntax for type uuid: \"contacts\"\n    at /app/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async query (/app/src/utils/db.js:30:17)\n    at async Object.getChatMessages (/app/src/services/messageService.js:56:20)\n    at async /app/src/routes/chatRoutes.js:43:20","statusCode":500,"timestamp":"2025-05-31T15:24:44.814Z"}
{"duration":2,"level":"debug","message":"Executed query","rows":1,"text":"SELECT id, username, created_at FROM users WHERE id = $1","timestamp":"2025-05-31T15:24:45.823Z"}
{"error":"invalid input syntax for type uuid: \"contacts\"","level":"error","message":"Database query error","stack":"error: invalid input syntax for type uuid: \"contacts\"\n    at /app/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async query (/app/src/utils/db.js:30:17)\n    at async Object.getChatMessages (/app/src/services/messageService.js:56:20)\n    at async /app/src/routes/chatRoutes.js:43:20","text":"SELECT \n        m.*,\n        json_build_object(\n          'id', u.id,\n          'username', u.username\n        ) as sender,\n        COALESCE(\n          json_agg(\n            json_build_object(\n              'user_id', mr.user_id,\n              'reaction', mr.reaction\n            )\n          ) FILTER (WHERE mr.message_id IS NOT NULL),\n          '[]'\n        ) as reactions\n       FROM messages m\n       JOIN users u ON m.sender_id = u.id\n       LEFT JOIN message_reactions mr ON m.id = mr.message_id\n       WHERE m.chat_room_id = $1\n       GROUP BY m.id, u.id\n       ORDER BY m.created_at DESC\n       LIMIT $2 OFFSET $3","timestamp":"2025-05-31T15:24:45.825Z"}
{"code":"22P02","file":"uuid.c","length":140,"level":"error","line":"133","message":"Error getting chat messages: invalid input syntax for type uuid: \"contacts\"","name":"error","routine":"string_to_uuid","severity":"ERROR","stack":"error: invalid input syntax for type uuid: \"contacts\"\n    at /app/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async query (/app/src/utils/db.js:30:17)\n    at async Object.getChatMessages (/app/src/services/messageService.js:56:20)\n    at async /app/src/routes/chatRoutes.js:43:20","timestamp":"2025-05-31T15:24:45.825Z","where":"unnamed portal parameter $1 = '...'"}
{"level":"error","message":"Error: invalid input syntax for type uuid: \"contacts\"","stack":"error: invalid input syntax for type uuid: \"contacts\"\n    at /app/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async query (/app/src/utils/db.js:30:17)\n    at async Object.getChatMessages (/app/src/services/messageService.js:56:20)\n    at async /app/src/routes/chatRoutes.js:43:20","statusCode":500,"timestamp":"2025-05-31T15:24:45.826Z"}
{"level":"info","message":"Connected to PostgreSQL database","timestamp":"2025-05-31T15:24:47.848Z"}
{"duration":10,"level":"debug","message":"Executed query","rows":1,"text":"SELECT id, username, created_at FROM users WHERE id = $1","timestamp":"2025-05-31T15:24:47.850Z"}
{"error":"invalid input syntax for type uuid: \"contacts\"","level":"error","message":"Database query error","stack":"error: invalid input syntax for type uuid: \"contacts\"\n    at /app/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async query (/app/src/utils/db.js:30:17)\n    at async Object.getChatMessages (/app/src/services/messageService.js:56:20)\n    at async /app/src/routes/chatRoutes.js:43:20","text":"SELECT \n        m.*,\n        json_build_object(\n          'id', u.id,\n          'username', u.username\n        ) as sender,\n        COALESCE(\n          json_agg(\n            json_build_object(\n              'user_id', mr.user_id,\n              'reaction', mr.reaction\n            )\n          ) FILTER (WHERE mr.message_id IS NOT NULL),\n          '[]'\n        ) as reactions\n       FROM messages m\n       JOIN users u ON m.sender_id = u.id\n       LEFT JOIN message_reactions mr ON m.id = mr.message_id\n       WHERE m.chat_room_id = $1\n       GROUP BY m.id, u.id\n       ORDER BY m.created_at DESC\n       LIMIT $2 OFFSET $3","timestamp":"2025-05-31T15:24:47.852Z"}
{"code":"22P02","file":"uuid.c","length":140,"level":"error","line":"133","message":"Error getting chat messages: invalid input syntax for type uuid: \"contacts\"","name":"error","routine":"string_to_uuid","severity":"ERROR","stack":"error: invalid input syntax for type uuid: \"contacts\"\n    at /app/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async query (/app/src/utils/db.js:30:17)\n    at async Object.getChatMessages (/app/src/services/messageService.js:56:20)\n    at async /app/src/routes/chatRoutes.js:43:20","timestamp":"2025-05-31T15:24:47.852Z","where":"unnamed portal parameter $1 = '...'"}
{"level":"error","message":"Error: invalid input syntax for type uuid: \"contacts\"","stack":"error: invalid input syntax for type uuid: \"contacts\"\n    at /app/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async query (/app/src/utils/db.js:30:17)\n    at async Object.getChatMessages (/app/src/services/messageService.js:56:20)\n    at async /app/src/routes/chatRoutes.js:43:20","statusCode":500,"timestamp":"2025-05-31T15:24:47.853Z"}
{"level":"info","message":"Connected to PostgreSQL database","timestamp":"2025-05-31T15:24:51.869Z"}
{"duration":9,"level":"debug","message":"Executed query","rows":1,"text":"SELECT id, username, created_at FROM users WHERE id = $1","timestamp":"2025-05-31T15:24:51.871Z"}
{"error":"invalid input syntax for type uuid: \"contacts\"","level":"error","message":"Database query error","stack":"error: invalid input syntax for type uuid: \"contacts\"\n    at /app/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async query (/app/src/utils/db.js:30:17)\n    at async Object.getChatMessages (/app/src/services/messageService.js:56:20)\n    at async /app/src/routes/chatRoutes.js:43:20","text":"SELECT \n        m.*,\n        json_build_object(\n          'id', u.id,\n          'username', u.username\n        ) as sender,\n        COALESCE(\n          json_agg(\n            json_build_object(\n              'user_id', mr.user_id,\n              'reaction', mr.reaction\n            )\n          ) FILTER (WHERE mr.message_id IS NOT NULL),\n          '[]'\n        ) as reactions\n       FROM messages m\n       JOIN users u ON m.sender_id = u.id\n       LEFT JOIN message_reactions mr ON m.id = mr.message_id\n       WHERE m.chat_room_id = $1\n       GROUP BY m.id, u.id\n       ORDER BY m.created_at DESC\n       LIMIT $2 OFFSET $3","timestamp":"2025-05-31T15:24:51.874Z"}
{"code":"22P02","file":"uuid.c","length":140,"level":"error","line":"133","message":"Error getting chat messages: invalid input syntax for type uuid: \"contacts\"","name":"error","routine":"string_to_uuid","severity":"ERROR","stack":"error: invalid input syntax for type uuid: \"contacts\"\n    at /app/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async query (/app/src/utils/db.js:30:17)\n    at async Object.getChatMessages (/app/src/services/messageService.js:56:20)\n    at async /app/src/routes/chatRoutes.js:43:20","timestamp":"2025-05-31T15:24:51.875Z","where":"unnamed portal parameter $1 = '...'"}
{"level":"error","message":"Error: invalid input syntax for type uuid: \"contacts\"","stack":"error: invalid input syntax for type uuid: \"contacts\"\n    at /app/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async query (/app/src/utils/db.js:30:17)\n    at async Object.getChatMessages (/app/src/services/messageService.js:56:20)\n    at async /app/src/routes/chatRoutes.js:43:20","statusCode":500,"timestamp":"2025-05-31T15:24:51.876Z"}
{"level":"info","message":"User disconnected: 91e5b17a-9d9a-437a-8a68-fc056c987da5","timestamp":"2025-05-31T15:24:55.742Z"}
{"level":"info","message":"Connected to PostgreSQL database","timestamp":"2025-05-31T15:28:43.518Z"}
{"duration":17,"level":"debug","message":"Executed query","rows":1,"text":"SELECT id, username, created_at FROM users WHERE id = $1","timestamp":"2025-05-31T15:28:43.520Z"}
{"duration":4,"level":"debug","message":"Executed query","rows":0,"text":"SELECT \n        cr.*,\n        json_agg(json_build_object(\n          'id', u.id,\n          'username', u.username,\n          'role', cp.role\n        )) as participants\n       FROM chat_rooms cr\n       JOIN chat_participants cp ON cr.id = cp.chat_room_id\n       JOIN users u ON cp.user_id = u.id\n       WHERE cr.id IN (\n         SELECT chat_room_id \n         FROM chat_participants \n         WHERE user_id = $1\n       )\n       GROUP BY cr.id\n       ORDER BY cr.updated_at DESC","timestamp":"2025-05-31T15:28:43.524Z"}
{"duration":1,"level":"debug","message":"Executed query","rows":1,"text":"SELECT id, username, created_at FROM users WHERE id = $1","timestamp":"2025-05-31T15:28:55.430Z"}
{"duration":2,"level":"debug","message":"Executed query","rows":0,"text":"SELECT \n        cr.*,\n        json_agg(json_build_object(\n          'id', u.id,\n          'username', u.username,\n          'role', cp.role\n        )) as participants\n       FROM chat_rooms cr\n       JOIN chat_participants cp ON cr.id = cp.chat_room_id\n       JOIN users u ON cp.user_id = u.id\n       WHERE cr.id IN (\n         SELECT chat_room_id \n         FROM chat_participants \n         WHERE user_id = $1\n       )\n       GROUP BY cr.id\n       ORDER BY cr.updated_at DESC","timestamp":"2025-05-31T15:28:55.432Z"}
{"level":"info","message":"SIGTERM received. Shutting down gracefully...","timestamp":"2025-05-31T15:48:39.901Z"}
{"level":"info","message":"Socket.IO server running on port 3001","timestamp":"2025-05-31T15:48:41.771Z"}
{"level":"info","message":"HTTP server running on port 3000","timestamp":"2025-05-31T15:48:41.774Z"}
{"level":"info","message":"Connected to PostgreSQL database","timestamp":"2025-05-31T15:48:43.105Z"}
{"duration":36,"level":"debug","message":"Executed query","rows":1,"text":"SELECT id, username, created_at FROM users WHERE id = $1","timestamp":"2025-05-31T15:48:43.125Z"}
{"level":"info","message":"User connected: 91e5b17a-9d9a-437a-8a68-fc056c987da5","timestamp":"2025-05-31T15:48:43.127Z"}
{"level":"info","message":"Connected to PostgreSQL database","timestamp":"2025-05-31T15:54:16.126Z"}
{"duration":11,"level":"debug","message":"Executed query","rows":0,"text":"SELECT id, username, password_hash, created_at FROM users WHERE username = $1","timestamp":"2025-05-31T15:54:16.130Z"}
{"duration":6,"level":"debug","message":"Executed query","rows":1,"text":"INSERT INTO users (id, username, password_hash) VALUES ($1, $2, $3) RETURNING id, username, created_at","timestamp":"2025-05-31T15:54:16.183Z"}
{"level":"info","message":"Created new user: testuser123","timestamp":"2025-05-31T15:54:16.183Z"}
{"duration":1,"level":"debug","message":"Executed query","rows":1,"text":"SELECT id, username, password_hash, created_at FROM users WHERE username = $1","timestamp":"2025-05-31T15:54:26.292Z"}
{"level":"info","message":"Connected to PostgreSQL database","timestamp":"2025-05-31T15:56:04.965Z"}
{"duration":17,"level":"debug","message":"Executed query","rows":1,"text":"SELECT id, username, created_at FROM users WHERE id = $1","timestamp":"2025-05-31T15:56:04.972Z"}
{"duration":9,"level":"debug","message":"Executed query","rows":0,"text":"SELECT \n        cr.*,\n        json_agg(json_build_object(\n          'id', u.id,\n          'username', u.username,\n          'role', cp.role\n        )) as participants\n       FROM chat_rooms cr\n       JOIN chat_participants cp ON cr.id = cp.chat_room_id\n       JOIN users u ON cp.user_id = u.id\n       WHERE cr.id IN (\n         SELECT chat_room_id \n         FROM chat_participants \n         WHERE user_id = $1\n       )\n       GROUP BY cr.id\n       ORDER BY cr.updated_at DESC","timestamp":"2025-05-31T15:56:04.982Z"}
{"level":"info","message":"User disconnected: 91e5b17a-9d9a-437a-8a68-fc056c987da5","timestamp":"2025-05-31T15:56:06.250Z"}
{"duration":2,"level":"debug","message":"Executed query","rows":1,"text":"SELECT id, username, created_at FROM users WHERE id = $1","timestamp":"2025-05-31T15:56:06.476Z"}
{"duration":3,"level":"debug","message":"Executed query","rows":0,"text":"SELECT \n        cr.*,\n        json_agg(json_build_object(\n          'id', u.id,\n          'username', u.username,\n          'role', cp.role\n        )) as participants\n       FROM chat_rooms cr\n       JOIN chat_participants cp ON cr.id = cp.chat_room_id\n       JOIN users u ON cp.user_id = u.id\n       WHERE cr.id IN (\n         SELECT chat_room_id \n         FROM chat_participants \n         WHERE user_id = $1\n       )\n       GROUP BY cr.id\n       ORDER BY cr.updated_at DESC","timestamp":"2025-05-31T15:56:06.480Z"}
{"duration":1,"level":"debug","message":"Executed query","rows":1,"text":"SELECT id, username, created_at FROM users WHERE id = $1","timestamp":"2025-05-31T15:56:06.505Z"}
{"level":"info","message":"User connected: 91e5b17a-9d9a-437a-8a68-fc056c987da5","timestamp":"2025-05-31T15:56:06.505Z"}
{"duration":1,"level":"debug","message":"Executed query","rows":1,"text":"SELECT id, username, created_at FROM users WHERE id = $1","timestamp":"2025-05-31T15:56:14.370Z"}
{"duration":1,"level":"debug","message":"Executed query","rows":1,"text":"SELECT id, username, created_at FROM users WHERE username ILIKE $1 LIMIT $2","timestamp":"2025-05-31T15:56:14.372Z"}
{"duration":1,"level":"debug","message":"Executed query","rows":1,"text":"SELECT id, username, created_at FROM users WHERE id = $1","timestamp":"2025-05-31T15:56:14.527Z"}
{"duration":1,"level":"debug","message":"Executed query","rows":1,"text":"SELECT id, username, created_at FROM users WHERE username ILIKE $1 LIMIT $2","timestamp":"2025-05-31T15:56:14.528Z"}
{"duration":1,"level":"debug","message":"Executed query","rows":1,"text":"SELECT id, username, created_at FROM users WHERE id = $1","timestamp":"2025-05-31T15:56:15.879Z"}
{"duration":1,"level":"debug","message":"Executed query","rows":1,"text":"SELECT id, username, created_at FROM users WHERE id = $1","timestamp":"2025-05-31T15:56:16.986Z"}
{"level":"info","message":"Connected to PostgreSQL database","timestamp":"2025-05-31T15:59:14.743Z"}
{"duration":18,"level":"debug","message":"Executed query","rows":1,"text":"SELECT id, username, created_at FROM users WHERE id = $1","timestamp":"2025-05-31T15:59:14.747Z"}
{"duration":4,"level":"debug","message":"Executed query","rows":0,"text":"SELECT \n        cr.*,\n        json_agg(json_build_object(\n          'id', u.id,\n          'username', u.username,\n          'role', cp.role\n        )) as participants\n       FROM chat_rooms cr\n       JOIN chat_participants cp ON cr.id = cp.chat_room_id\n       JOIN users u ON cp.user_id = u.id\n       WHERE cr.id IN (\n         SELECT chat_room_id \n         FROM chat_participants \n         WHERE user_id = $1\n       )\n       GROUP BY cr.id\n       ORDER BY cr.updated_at DESC","timestamp":"2025-05-31T15:59:14.753Z"}
