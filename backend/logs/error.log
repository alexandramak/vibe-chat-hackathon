{"error":"invalid input syntax for type uuid: \"contacts\"","level":"error","message":"Database query error","stack":"error: invalid input syntax for type uuid: \"contacts\"\n    at /app/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async query (/app/src/utils/db.js:30:17)\n    at async Object.getChatMessages (/app/src/services/messageService.js:56:20)\n    at async /app/src/routes/chatRoutes.js:43:20","text":"SELECT \n        m.*,\n        json_build_object(\n          'id', u.id,\n          'username', u.username\n        ) as sender,\n        COALESCE(\n          json_agg(\n            json_build_object(\n              'user_id', mr.user_id,\n              'reaction', mr.reaction\n            )\n          ) FILTER (WHERE mr.message_id IS NOT NULL),\n          '[]'\n        ) as reactions\n       FROM messages m\n       JOIN users u ON m.sender_id = u.id\n       LEFT JOIN message_reactions mr ON m.id = mr.message_id\n       WHERE m.chat_room_id = $1\n       GROUP BY m.id, u.id\n       ORDER BY m.created_at DESC\n       LIMIT $2 OFFSET $3","timestamp":"2025-05-31T15:24:44.812Z"}
{"code":"22P02","file":"uuid.c","length":140,"level":"error","line":"133","message":"Error getting chat messages: invalid input syntax for type uuid: \"contacts\"","name":"error","routine":"string_to_uuid","severity":"ERROR","stack":"error: invalid input syntax for type uuid: \"contacts\"\n    at /app/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async query (/app/src/utils/db.js:30:17)\n    at async Object.getChatMessages (/app/src/services/messageService.js:56:20)\n    at async /app/src/routes/chatRoutes.js:43:20","timestamp":"2025-05-31T15:24:44.813Z","where":"unnamed portal parameter $1 = '...'"}
{"level":"error","message":"Error: invalid input syntax for type uuid: \"contacts\"","stack":"error: invalid input syntax for type uuid: \"contacts\"\n    at /app/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async query (/app/src/utils/db.js:30:17)\n    at async Object.getChatMessages (/app/src/services/messageService.js:56:20)\n    at async /app/src/routes/chatRoutes.js:43:20","statusCode":500,"timestamp":"2025-05-31T15:24:44.814Z"}
{"error":"invalid input syntax for type uuid: \"contacts\"","level":"error","message":"Database query error","stack":"error: invalid input syntax for type uuid: \"contacts\"\n    at /app/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async query (/app/src/utils/db.js:30:17)\n    at async Object.getChatMessages (/app/src/services/messageService.js:56:20)\n    at async /app/src/routes/chatRoutes.js:43:20","text":"SELECT \n        m.*,\n        json_build_object(\n          'id', u.id,\n          'username', u.username\n        ) as sender,\n        COALESCE(\n          json_agg(\n            json_build_object(\n              'user_id', mr.user_id,\n              'reaction', mr.reaction\n            )\n          ) FILTER (WHERE mr.message_id IS NOT NULL),\n          '[]'\n        ) as reactions\n       FROM messages m\n       JOIN users u ON m.sender_id = u.id\n       LEFT JOIN message_reactions mr ON m.id = mr.message_id\n       WHERE m.chat_room_id = $1\n       GROUP BY m.id, u.id\n       ORDER BY m.created_at DESC\n       LIMIT $2 OFFSET $3","timestamp":"2025-05-31T15:24:45.825Z"}
{"code":"22P02","file":"uuid.c","length":140,"level":"error","line":"133","message":"Error getting chat messages: invalid input syntax for type uuid: \"contacts\"","name":"error","routine":"string_to_uuid","severity":"ERROR","stack":"error: invalid input syntax for type uuid: \"contacts\"\n    at /app/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async query (/app/src/utils/db.js:30:17)\n    at async Object.getChatMessages (/app/src/services/messageService.js:56:20)\n    at async /app/src/routes/chatRoutes.js:43:20","timestamp":"2025-05-31T15:24:45.825Z","where":"unnamed portal parameter $1 = '...'"}
{"level":"error","message":"Error: invalid input syntax for type uuid: \"contacts\"","stack":"error: invalid input syntax for type uuid: \"contacts\"\n    at /app/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async query (/app/src/utils/db.js:30:17)\n    at async Object.getChatMessages (/app/src/services/messageService.js:56:20)\n    at async /app/src/routes/chatRoutes.js:43:20","statusCode":500,"timestamp":"2025-05-31T15:24:45.826Z"}
{"error":"invalid input syntax for type uuid: \"contacts\"","level":"error","message":"Database query error","stack":"error: invalid input syntax for type uuid: \"contacts\"\n    at /app/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async query (/app/src/utils/db.js:30:17)\n    at async Object.getChatMessages (/app/src/services/messageService.js:56:20)\n    at async /app/src/routes/chatRoutes.js:43:20","text":"SELECT \n        m.*,\n        json_build_object(\n          'id', u.id,\n          'username', u.username\n        ) as sender,\n        COALESCE(\n          json_agg(\n            json_build_object(\n              'user_id', mr.user_id,\n              'reaction', mr.reaction\n            )\n          ) FILTER (WHERE mr.message_id IS NOT NULL),\n          '[]'\n        ) as reactions\n       FROM messages m\n       JOIN users u ON m.sender_id = u.id\n       LEFT JOIN message_reactions mr ON m.id = mr.message_id\n       WHERE m.chat_room_id = $1\n       GROUP BY m.id, u.id\n       ORDER BY m.created_at DESC\n       LIMIT $2 OFFSET $3","timestamp":"2025-05-31T15:24:47.852Z"}
{"code":"22P02","file":"uuid.c","length":140,"level":"error","line":"133","message":"Error getting chat messages: invalid input syntax for type uuid: \"contacts\"","name":"error","routine":"string_to_uuid","severity":"ERROR","stack":"error: invalid input syntax for type uuid: \"contacts\"\n    at /app/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async query (/app/src/utils/db.js:30:17)\n    at async Object.getChatMessages (/app/src/services/messageService.js:56:20)\n    at async /app/src/routes/chatRoutes.js:43:20","timestamp":"2025-05-31T15:24:47.852Z","where":"unnamed portal parameter $1 = '...'"}
{"level":"error","message":"Error: invalid input syntax for type uuid: \"contacts\"","stack":"error: invalid input syntax for type uuid: \"contacts\"\n    at /app/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async query (/app/src/utils/db.js:30:17)\n    at async Object.getChatMessages (/app/src/services/messageService.js:56:20)\n    at async /app/src/routes/chatRoutes.js:43:20","statusCode":500,"timestamp":"2025-05-31T15:24:47.853Z"}
{"error":"invalid input syntax for type uuid: \"contacts\"","level":"error","message":"Database query error","stack":"error: invalid input syntax for type uuid: \"contacts\"\n    at /app/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async query (/app/src/utils/db.js:30:17)\n    at async Object.getChatMessages (/app/src/services/messageService.js:56:20)\n    at async /app/src/routes/chatRoutes.js:43:20","text":"SELECT \n        m.*,\n        json_build_object(\n          'id', u.id,\n          'username', u.username\n        ) as sender,\n        COALESCE(\n          json_agg(\n            json_build_object(\n              'user_id', mr.user_id,\n              'reaction', mr.reaction\n            )\n          ) FILTER (WHERE mr.message_id IS NOT NULL),\n          '[]'\n        ) as reactions\n       FROM messages m\n       JOIN users u ON m.sender_id = u.id\n       LEFT JOIN message_reactions mr ON m.id = mr.message_id\n       WHERE m.chat_room_id = $1\n       GROUP BY m.id, u.id\n       ORDER BY m.created_at DESC\n       LIMIT $2 OFFSET $3","timestamp":"2025-05-31T15:24:51.874Z"}
{"code":"22P02","file":"uuid.c","length":140,"level":"error","line":"133","message":"Error getting chat messages: invalid input syntax for type uuid: \"contacts\"","name":"error","routine":"string_to_uuid","severity":"ERROR","stack":"error: invalid input syntax for type uuid: \"contacts\"\n    at /app/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async query (/app/src/utils/db.js:30:17)\n    at async Object.getChatMessages (/app/src/services/messageService.js:56:20)\n    at async /app/src/routes/chatRoutes.js:43:20","timestamp":"2025-05-31T15:24:51.875Z","where":"unnamed portal parameter $1 = '...'"}
{"level":"error","message":"Error: invalid input syntax for type uuid: \"contacts\"","stack":"error: invalid input syntax for type uuid: \"contacts\"\n    at /app/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async query (/app/src/utils/db.js:30:17)\n    at async Object.getChatMessages (/app/src/services/messageService.js:56:20)\n    at async /app/src/routes/chatRoutes.js:43:20","statusCode":500,"timestamp":"2025-05-31T15:24:51.876Z"}
